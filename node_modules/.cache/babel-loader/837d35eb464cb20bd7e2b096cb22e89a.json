{"ast":null,"code":"(function () {\n  var computeScore, countDir, file_coeff, getExtension, getExtensionScore, isMatch, scorePath, scoreSize, tau_depth, _ref;\n\n  _ref = require('./scorer'), isMatch = _ref.isMatch, computeScore = _ref.computeScore, scoreSize = _ref.scoreSize;\n  tau_depth = 20;\n  file_coeff = 2.5;\n\n  exports.score = function (string, query, options) {\n    var allowErrors, preparedQuery, score, string_lw;\n    preparedQuery = options.preparedQuery, allowErrors = options.allowErrors;\n\n    if (!(allowErrors || isMatch(string, preparedQuery.core_lw, preparedQuery.core_up))) {\n      return 0;\n    }\n\n    string_lw = string.toLowerCase();\n    score = computeScore(string, string_lw, preparedQuery);\n    score = scorePath(string, string_lw, score, options);\n    return Math.ceil(score);\n  };\n\n  scorePath = function (subject, subject_lw, fullPathScore, options) {\n    var alpha, basePathScore, basePos, depth, end, extAdjust, fileLength, pathSeparator, preparedQuery, useExtensionBonus;\n\n    if (fullPathScore === 0) {\n      return 0;\n    }\n\n    preparedQuery = options.preparedQuery, useExtensionBonus = options.useExtensionBonus, pathSeparator = options.pathSeparator;\n    end = subject.length - 1;\n\n    while (subject[end] === pathSeparator) {\n      end--;\n    }\n\n    basePos = subject.lastIndexOf(pathSeparator, end);\n    fileLength = end - basePos;\n    extAdjust = 1.0;\n\n    if (useExtensionBonus) {\n      extAdjust += getExtensionScore(subject_lw, preparedQuery.ext, basePos, end, 2);\n      fullPathScore *= extAdjust;\n    }\n\n    if (basePos === -1) {\n      return fullPathScore;\n    }\n\n    depth = preparedQuery.depth;\n\n    while (basePos > -1 && depth-- > 0) {\n      basePos = subject.lastIndexOf(pathSeparator, basePos - 1);\n    }\n\n    basePathScore = basePos === -1 ? fullPathScore : extAdjust * computeScore(subject.slice(basePos + 1, end + 1), subject_lw.slice(basePos + 1, end + 1), preparedQuery);\n    alpha = 0.5 * tau_depth / (tau_depth + countDir(subject, end + 1, pathSeparator));\n    return alpha * basePathScore + (1 - alpha) * fullPathScore * scoreSize(0, file_coeff * fileLength);\n  };\n\n  exports.countDir = countDir = function (path, end, pathSeparator) {\n    var count, i;\n\n    if (end < 1) {\n      return 0;\n    }\n\n    count = 0;\n    i = -1;\n\n    while (++i < end && path[i] === pathSeparator) {\n      continue;\n    }\n\n    while (++i < end) {\n      if (path[i] === pathSeparator) {\n        count++;\n\n        while (++i < end && path[i] === pathSeparator) {\n          continue;\n        }\n      }\n    }\n\n    return count;\n  };\n\n  exports.getExtension = getExtension = function (str) {\n    var pos;\n    pos = str.lastIndexOf(\".\");\n\n    if (pos < 0) {\n      return \"\";\n    } else {\n      return str.substr(pos + 1);\n    }\n  };\n\n  getExtensionScore = function (candidate, ext, startPos, endPos, maxDepth) {\n    var m, matched, n, pos;\n\n    if (!ext.length) {\n      return 0;\n    }\n\n    pos = candidate.lastIndexOf(\".\", endPos);\n\n    if (!(pos > startPos)) {\n      return 0;\n    }\n\n    n = ext.length;\n    m = endPos - pos;\n\n    if (m < n) {\n      n = m;\n      m = ext.length;\n    }\n\n    pos++;\n    matched = -1;\n\n    while (++matched < n) {\n      if (candidate[pos + matched] !== ext[matched]) {\n        break;\n      }\n    }\n\n    if (matched === 0 && maxDepth > 0) {\n      return 0.9 * getExtensionScore(candidate, ext, startPos, pos - 2, maxDepth - 1);\n    }\n\n    return matched / m;\n  };\n}).call(this);","map":{"version":3,"names":["computeScore","countDir","file_coeff","getExtension","getExtensionScore","isMatch","scorePath","scoreSize","tau_depth","_ref","require","exports","score","string","query","options","allowErrors","preparedQuery","string_lw","core_lw","core_up","toLowerCase","Math","ceil","subject","subject_lw","fullPathScore","alpha","basePathScore","basePos","depth","end","extAdjust","fileLength","pathSeparator","useExtensionBonus","length","lastIndexOf","ext","slice","path","count","i","str","pos","substr","candidate","startPos","endPos","maxDepth","m","matched","n","call"],"sources":["C:/Users/anish/auth-final/node_modules/fuzzaldrin-plus/lib/pathScorer.js"],"sourcesContent":["(function() {\n  var computeScore, countDir, file_coeff, getExtension, getExtensionScore, isMatch, scorePath, scoreSize, tau_depth, _ref;\n\n  _ref = require('./scorer'), isMatch = _ref.isMatch, computeScore = _ref.computeScore, scoreSize = _ref.scoreSize;\n\n  tau_depth = 20;\n\n  file_coeff = 2.5;\n\n  exports.score = function(string, query, options) {\n    var allowErrors, preparedQuery, score, string_lw;\n    preparedQuery = options.preparedQuery, allowErrors = options.allowErrors;\n    if (!(allowErrors || isMatch(string, preparedQuery.core_lw, preparedQuery.core_up))) {\n      return 0;\n    }\n    string_lw = string.toLowerCase();\n    score = computeScore(string, string_lw, preparedQuery);\n    score = scorePath(string, string_lw, score, options);\n    return Math.ceil(score);\n  };\n\n  scorePath = function(subject, subject_lw, fullPathScore, options) {\n    var alpha, basePathScore, basePos, depth, end, extAdjust, fileLength, pathSeparator, preparedQuery, useExtensionBonus;\n    if (fullPathScore === 0) {\n      return 0;\n    }\n    preparedQuery = options.preparedQuery, useExtensionBonus = options.useExtensionBonus, pathSeparator = options.pathSeparator;\n    end = subject.length - 1;\n    while (subject[end] === pathSeparator) {\n      end--;\n    }\n    basePos = subject.lastIndexOf(pathSeparator, end);\n    fileLength = end - basePos;\n    extAdjust = 1.0;\n    if (useExtensionBonus) {\n      extAdjust += getExtensionScore(subject_lw, preparedQuery.ext, basePos, end, 2);\n      fullPathScore *= extAdjust;\n    }\n    if (basePos === -1) {\n      return fullPathScore;\n    }\n    depth = preparedQuery.depth;\n    while (basePos > -1 && depth-- > 0) {\n      basePos = subject.lastIndexOf(pathSeparator, basePos - 1);\n    }\n    basePathScore = basePos === -1 ? fullPathScore : extAdjust * computeScore(subject.slice(basePos + 1, end + 1), subject_lw.slice(basePos + 1, end + 1), preparedQuery);\n    alpha = 0.5 * tau_depth / (tau_depth + countDir(subject, end + 1, pathSeparator));\n    return alpha * basePathScore + (1 - alpha) * fullPathScore * scoreSize(0, file_coeff * fileLength);\n  };\n\n  exports.countDir = countDir = function(path, end, pathSeparator) {\n    var count, i;\n    if (end < 1) {\n      return 0;\n    }\n    count = 0;\n    i = -1;\n    while (++i < end && path[i] === pathSeparator) {\n      continue;\n    }\n    while (++i < end) {\n      if (path[i] === pathSeparator) {\n        count++;\n        while (++i < end && path[i] === pathSeparator) {\n          continue;\n        }\n      }\n    }\n    return count;\n  };\n\n  exports.getExtension = getExtension = function(str) {\n    var pos;\n    pos = str.lastIndexOf(\".\");\n    if (pos < 0) {\n      return \"\";\n    } else {\n      return str.substr(pos + 1);\n    }\n  };\n\n  getExtensionScore = function(candidate, ext, startPos, endPos, maxDepth) {\n    var m, matched, n, pos;\n    if (!ext.length) {\n      return 0;\n    }\n    pos = candidate.lastIndexOf(\".\", endPos);\n    if (!(pos > startPos)) {\n      return 0;\n    }\n    n = ext.length;\n    m = endPos - pos;\n    if (m < n) {\n      n = m;\n      m = ext.length;\n    }\n    pos++;\n    matched = -1;\n    while (++matched < n) {\n      if (candidate[pos + matched] !== ext[matched]) {\n        break;\n      }\n    }\n    if (matched === 0 && maxDepth > 0) {\n      return 0.9 * getExtensionScore(candidate, ext, startPos, pos - 2, maxDepth - 1);\n    }\n    return matched / m;\n  };\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}